<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="Manifest of a frontend dev.">
        <meta name="keywords" content="dev,css,css3,html,html5,api,javascript,js,zepto,jquery,backbone,nodejs,node,frontend,front">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>_kud.blog -- Credentials with Zepto</title>
        <link rel="shortcut icon" type="image/png" href="/favicon.png" />
        <link rel="stylesheet" type="text/css" href="/blog/assets/css/style.css">
        <link href="/blog/feed.xml" rel="alternate" type="application/rss+xml">
    </head>
    <body>
        <aside>
            <nav>
                <ul>
                    <li><a href="/blog/" class="active">Blog</a></li>
                    
                    <li><a href="http://www.kud.fr">Profile</a></li>
                    <li><a href="https://www.github.com/kud">Github</a></li>
                    <li><a href="https://www.twitter.com/_kud">Twitter</a></li>
                </ul>
            </nav>
        </aside>
        <section class="main">
            <h1><a href="/blog/">Manifest of a frontend dev</a></h1>
            <article>
	<h2>Credentials with Zepto</h2>
	<div class="date">
        <span class="decoration">
            <span class="month">Feb</span>
            <span class="day">01</span>
        </span>
        <span class="year">2013</span>
    </div>
	<div class="author">By <a href="http://kud.io">Erwann Mest</a></div>
    
	<div class="category">
		<ul>
            
                <li><a href="#">ajax</a></li>
            
                <li><a href="#">zepto</a></li>
            
                <li><a href="#">cors</a></li>
            
		</ul>
	</div>
    
	<section class="content">
		<p>If you need to manage cookies on <a href='http://www.html5rocks.com/en/tutorials/cors/'>CORS</a> requests with <a href='http://zeptojs.com/'>Zepto</a> (yes, they do not manage <a href='http://api.jquery.com/jQuery.ajax/'>jQuery xhrFields</a> yet), just add this setting:</p>
<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>.</span><span class='nx'>ajaxSettings</span><span class='p'>.</span><span class='nx'>beforeSend</span> <span class='o'>=</span> <span class='kd'>function</span><span class='p'>(</span><span class='nx'>xhr</span><span class='p'>)</span> <span class='p'>{</span>
    <span class='nx'>xhr</span><span class='p'>.</span><span class='nx'>withCredentials</span> <span class='o'>=</span> <span class='kc'>true</span><span class='p'>;</span>
<span class='p'>};</span>
</code></pre></div>
<p>Though, this code will affect every ajax request. Maybe you want it just for one request. In this case:</p>
<div class='highlight'><pre><code class='javascript'><span class='nx'>$</span><span class='p'>.</span><span class='nx'>ajax</span><span class='p'>({</span>
    <span class='nx'>url</span><span class='o'>:</span> <span class='nx'>src</span><span class='p'>,</span>
    <span class='nx'>dataType</span><span class='o'>:</span> <span class='s1'>&#39;json&#39;</span><span class='p'>,</span>
    <span class='nx'>beforeSend</span><span class='o'>:</span> <span class='kd'>function</span><span class='p'>(</span><span class='nx'>xhr</span><span class='p'>)</span> <span class='p'>{</span>
        <span class='nx'>xhr</span><span class='p'>.</span><span class='nx'>withCredentials</span> <span class='o'>=</span> <span class='kc'>false</span><span class='p'>;</span>
    <span class='p'>},</span>
    <span class='nx'>success</span><span class='o'>:</span> <span class='kd'>function</span> <span class='p'>(</span><span class='nx'>response</span><span class='p'>)</span> <span class='p'>{</span>
        <span class='nx'>callback</span><span class='p'>(</span><span class='nx'>response</span><span class='p'>);</span>
    <span class='p'>}</span>
<span class='p'>});</span>
</code></pre></div>
<p>Hope they will implement it soon, PR are already in queue.</p>
	</section>
    <section class="report">
        Any feedbacks, errors, typo, thanks, please contact me on twitter at <a href="https://www.twitter.com/_kud/">@_kud</a>.
    </section>
    <section class="about-author">
        <img src="https://fr.gravatar.com/userimage/10327718/b7a61a57884f7e973154b1d737f8c380.jpeg" alt="" class="pic"> Erwann. Ex - back-end dev now front-end dev. Works at <a href="//www.playmedia.fr">playmedia</a>, company editing <a href="//www.playtv.fr">playtv.fr</a>. Also drummer, photographer, cinema lover and so on. Need <a href="//www.kud.fr">mooaar</a>?
    </section>
</article>
        </section>
        
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-25156890-3']);
            _gaq.push(['_trackPageview']);

            (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>